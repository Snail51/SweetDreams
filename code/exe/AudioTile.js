// MINIFIED VERSION OF THE FILE OF THE SAME NAME IN THE `src` FOLDER
// MINIFIED WITH https://www.toptal.com/developers/javascript-minifier
// MINIFIED AT Sun Jun  1 15:49:44 CDT 2025

import{AudioNode as e}from"./AudioNode.js";async function setupGlobalAudioContext(){window.audioCTX=new window.AudioContext,window.audioNodes=[]}async function setupGlobalAmplifier(){window.amplifier=await window.audioCTX.createGain(),await window.amplifier.connect(window.audioCTX.destination),window.adjustGlobalVolume=function(){var e=document.getElementById("globalVolume").value;e/=100,e*=2,e=e.toFixed(2),window.amplifier.gain.setValueAtTime(e,window.audioCTX.currentTime)},window.storeGlobalVolume=function(){var e=document.getElementById("globalVolume").value;localStorage.setItem("SWEET_DREAMS-global_volume",e)},document.getElementById("globalVolume").value=localStorage.getItem("SWEET_DREAMS-global_volume")?localStorage.getItem("SWEET_DREAMS-global_volume"):50,window.adjustGlobalVolume()}setupGlobalAudioContext().then(()=>setupGlobalAmplifier().then(()=>window.setupAudioTiles())),window.createAudioTile=async function(t,a,i,l,o){var n=document.createElement("div");n.className="audioContainer";for(var d=null,u=0;u<window.audioNodes.length;u++)window.audioNodes[u].src==a&&(d=u);var r=-1;if(null==d){var s=new e(a,window.audioCTX,n);window.audioNodes.push(s),r=window.audioNodes.length-1}else r=d,window.audioNodes[r].addPointer(n);let m=r;n.audioNode=window.audioNodes[m];var c=document.createElement("button");c.className="audioButton",c.addEventListener("click",e=>{window.audioNodes[m].toggle(e)});var v=document.createElement("div");v.className="META-L",v.title=l.split(/ ?\| ?/)[1],v.innerHTML=l.split(/ ?\| ?/)[0];var p=document.createElement("div");p.className="ICON",p.innerHTML=`<i class="fa-solid ${i}"></i>`;var E=document.createElement("div");E.className="META-R",E.title=o.split(/ ?\| ?/)[1],E.innerHTML=o.split(/ ?\| ?/)[0];var g=document.createElement("input");g.type="range",g.className="SLIDER",g.addEventListener("input",e=>window.audioNodes[m].adjustVolume(2*(e.target.value/100)**3,e.target.value)),g.addEventListener("change",()=>window.URIsaver.save());var A=document.createElement("div");return A.className="LABEL",A.innerHTML=t,c.appendChild(v),c.appendChild(p),c.appendChild(E),c.appendChild(A),n.appendChild(c),n.appendChild(g),n},window.setupAudioTiles=async function(){var e=document.querySelectorAll("AudioTile");for(var t of e){let a=t.getAttribute("name"),i=t.getAttribute("src"),l=t.getAttribute("icon"),o=t.getAttribute("metaLeft"),n=t.getAttribute("metaRight");var d=await window.createAudioTile(a,i,l,o,n);t.insertAdjacentElement("afterend",d),t.remove()}};