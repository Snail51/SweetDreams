// MINIFIED VERSION OF THE FILE OF THE SAME NAME IN THE `src` FOLDER
// MINIFIED WITH https://www.toptal.com/developers/javascript-minifier
// MINIFIED AT Thu May 15 19:52:25 CDT 2025

import{AudioNode as e}from"./AudioNode.js";async function setupGlobalAudioContext(){window.audioCTX=new window.AudioContext,window.audioNodes=[]}async function setupGlobalAmplifier(){window.amplifier=await window.audioCTX.createGain(),await window.amplifier.connect(window.audioCTX.destination),window.adjustGlobalVolume=function(){var e=document.getElementById("globalVolume").value;e/=100,e*=2,e=e.toFixed(2),window.amplifier.gain.setValueAtTime(e,window.audioCTX.currentTime)},window.storeGlobalVolume=function(){var e=document.getElementById("globalVolume").value;localStorage.setItem("SWEET_DREAMS-global_volume",e)},document.getElementById("globalVolume").value=localStorage.getItem("SWEET_DREAMS-global_volume")?localStorage.getItem("SWEET_DREAMS-global_volume"):50,window.adjustGlobalVolume()}async function setupAudioTiles(){var t=document.querySelectorAll("AudioTile");for(var a of t){let l=a.getAttribute("name"),i=a.getAttribute("src"),o=a.getAttribute("icon"),n=a.getAttribute("metaLeft"),d=a.getAttribute("metaRight");var u=document.createElement("div");u.className="audioContainer";for(var r=null,s=0;s<window.audioNodes.length;s++)window.audioNodes[s].src==i&&(r=s);var m=-1;if(null==r){var c=new e(i,window.audioCTX,u);window.audioNodes.push(c),m=window.audioNodes.length-1}else m=r,window.audioNodes[m].addPointer(u);let v=m;var p=document.createElement("button");p.className="audioButton",p.addEventListener("click",()=>{window.audioNodes[v].toggle()});var E=document.createElement("div");E.className="META-L",E.innerHTML=n;var g=document.createElement("div");g.className="ICON",g.innerHTML=`<i class="fa-solid ${o}"></i>`;var A=document.createElement("div");A.className="META-R",A.innerHTML=d;var b=document.createElement("input");b.type="range",b.className="SLIDER",b.addEventListener("input",()=>window.audioNodes[v].adjustVolume(2*(event.target.value/100)**3,event.target.value)),b.addEventListener("change",()=>window.URIsaver.save());var T=document.createElement("div");T.className="LABEL",T.innerHTML=l,p.appendChild(E),p.appendChild(g),p.appendChild(A),p.appendChild(T),u.appendChild(p),u.appendChild(b),a.insertAdjacentElement("afterend",u),a.remove()}}setupGlobalAudioContext().then(()=>setupGlobalAmplifier().then(()=>setupAudioTiles()));