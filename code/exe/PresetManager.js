// MINIFIED VERSION OF THE FILE OF THE SAME NAME IN THE `src` FOLDER
// MINIFIED WITH https://www.toptal.com/developers/javascript-minifier
// MINIFIED AT Tue Jun  3 16:31:05 CDT 2025

export class Loader{constructor(){this.activeList=[],this.compressor=new URIManager}async load(){this.activeList=this.compressor.pull().split(","),document.getElementById("printout_loadparams").innerHTML=this.activeList.join("\n");var t=window.audioNodes;for(var e of t)if(this.activeList.some(t=>t.startsWith(e.src))){var s=this.activeList.find(t=>t.startsWith(e.src));await e.adjustVolume(s.split(";")[1],100*Math.cbrt(parseFloat(s.split(";")[1])/2)),e.elements[0].querySelectorAll("button")[0].click()}}}export class Saver{constructor(){this.activeList=[],this.compressor=new URIManager,this.oldDigest=""}async save(){this.activeList=window.audioNodes.filter(t=>!0==t.playing).map(t=>t.src+";"+Math.round(100*t.volume)/100);var t=this.activeList.join(",");window.simpleHash=function(t){let e=0;if(!t||"string"!=typeof t)return e;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);e=(e<<5)-e+r}return Math.abs(e>>>0).toString(16)};var e=simpleHash(t);e!==this.oldDigest&&(this.compressor.push(t),this.oldDigest=e,console.debug(this))}}export class URIManager{constructor(){this.maxURILength=8192,this.defaultCompression="BEST",this.defaultEncoding="URI-B64",this.lastAlert=new Date(0)}alertNoSpam(){new Date().getTime()-this.lastAlert>=3e4&&alert("Maxium URL Length Reached!\n\nShorten your document or prepare to save the raw text content!"),this.lastAlert=new Date().getTime()}pull(t){var e=this.getURL(t),s=window.URICompressor.pull(e.data,e.compressor,e.encoding).data;return(""==s||null==s)&&console.error("Couldn't decode the provided link.\nCould not parse Data Parameter."),s=s.replace(/\s+$/gm,"")}push(t){var e=window.URICompressor.push(t,this.defaultCompression,this.defaultEncoding);return this.setURL(e.data,e.compression,e.encoding),null}setURL(t,e,s){var r=window.location.href.split("?")[0],a=r+"?enc="+s+"&cmpr="+e+"&data="+t;window.link_full=a,a.length+512>this.maxURILength&&(a=r+"?enc="+s+"&cmpr="+e+"&data=MAXIMUM-LINK-LENGTH-EXCEEDED",this.alertNoSpam()),history.replaceState({},"",a)}getURL(){var t=/(?:data=)([^\&\=\?]*)/gm.exec(window.location.href);t=null==t||""==t[1]?"":t[1];var e=/(?:cmpr=)([^\&\=\?]*)/gm.exec(window.location.href);e=null==e||""==e[1]?"ZLIB":e[1];var s=/(?:enc=)([^\&\=\?]*)/gm.exec(window.location.href);s=null==s||""==s[1]?"URI-B64":s[1];var r={};return r.encoding=s,r.compressor=e,r.data=t,r}}