// MINIFIED VERSION OF THE FILE OF THE SAME NAME IN THE `src` FOLDER
// MINIFIED WITH https://www.toptal.com/developers/javascript-minifier 

export class AudioNode{constructor(t,i,s){this.audioCtx=i,this.element=s,this.playing=!1,this.volume=.5,this.loaded=0,this.src=t,this.data=new ArrayBuffer,this.source,this.noise,window.addEventListener("beforeunload",()=>this.shutdown())}async load(){this.loaded=1,this.element.style.backgroundColor="#8800cc";let t=await fetch(this.src),i=await t.arrayBuffer();this.loaded=2,this.data=await this.audioCtx.decodeAudioData(i),this.source=await this.audioCtx.createBufferSource(),this.source.buffer=this.data,this.source.loop=!0,this.loaded=3,this.noise=await this.audioCtx.createGain(),this.noise.gain.setValueAtTime(this.volume,this.audioCtx.currentTime),await this.source.connect(this.noise),await this.noise.connect(this.audioCtx.destination),this.loaded=4,await this.source.start(),await this.noise.disconnect(),this.loaded=5,console.debug(`${this.src} - Finished loading data for AudioNode`)}async play(){0==this.loaded&&await this.load(),5==this.loaded&&(this.element.style.backgroundColor="#999999",await this.noise.connect(this.audioCtx.destination),this.playing=!0,console.debug(`${this.src} - Started Playback of AudioNode`))}async stop(){0==this.loaded&&await this.load(),5==this.loaded&&(this.element.style.backgroundColor="#555555",this.noise.disconnect(),this.playing=!1,console.debug(`${this.src} - Halted Playback of AudioNode`))}async toggle(){!1==this.playing?await this.play():await this.stop()}async adjustVolume(t){this.volume=t,this.noise.gain.setValueAtTime(this.volume,this.audioCtx.currentTime)}async shutdown(){try{this.source.stop()}catch(t){console.error(t)}try{this.source.disconnect()}catch(i){console.error(i)}console.debug(`${this.src} - Shutdown AudioNode`)}}