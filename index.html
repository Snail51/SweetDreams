<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>Sweet Dreams</title>
        <link rel="icon" href="./Resources/js_icon.jpg" type="jpg">

        <!-- Consumes custom <AudioNode> elements and initializes all their logic and DOM elements -->
        <script type="module">
            import { AudioNode } from "./audionode.js";
            window.audioCTX = new window.AudioContext();
            window.audioNodes = new Array();

            var audioNodeDOMs = document.querySelectorAll("AudioNode");
            for( var node of audioNodeDOMs )
            {
                // capture DOM element attributes
                const name = node.getAttribute("name");
                const src = node.getAttribute("src");

                // create new div object
                var newDiv = document.createElement("div");
                newDiv.className = "audioContainer";

                // create new AudioNode object
                var newNode = new AudioNode(src, window.audioCTX, newDiv);
                window.audioNodes.push(newNode);
                const nodeIndex = window.audioNodes.length-1;

                // create new button object
                var newButton = document.createElement("button");
                newButton.innerHTML = name;
                newButton.addEventListener("click", () => window.audioNodes[nodeIndex].toggle());

                // create new <input> of type `range`
                var newRange = document.createElement("input");
                newRange.type = "range";
                newRange.addEventListener("input", () => window.audioNodes[nodeIndex].adjustVolume(event.target.value/100));

                // insert the elements into the div
                newDiv.appendChild(newButton);
                newDiv.appendChild(newRange);

                // place the new div structure onto the DOM
                node.insertAdjacentElement("afterend", newDiv);

                // remove placeholder node of type <AudioNode>
                node.remove();
            }
        </script>

        <style>
            .audioContainer {
                width: 20vmin;
                height: 20vmin;
                display: flex;
                flex-direction: column;
                padding: 1%;

                background-color: #555555;
            }
            .audioContainer > :nth-child(1) {
                flex: 4;
                font-size: 1.5vmax;
            }
            .audioContainer > :nth-child(2) {
                flex: 1;
            }

            .mainGrid {
                width: 90vw;
                display: grid;
                grid-template-columns: repeat(auto-fit, 20vmin);
                row-gap: 1%;
                column-gap: 1%;
            }
        </style>
    </head>
    <body style="background-color: rgb(44, 46, 54); color: whitesmoke; font-size: 24px;">

        <h2>Brendan</h2>
        <div class="mainGrid">
            <AudioNode src="./audiosrc/brendan/Stream-B.mp3" name="Stream"></AudioNode>
            <AudioNode src="./audiosrc/brendan/Heartbeat-B.mp3" name="Heartbeat"></AudioNode>
            <AudioNode src="./audiosrc/brendan/Ocean_Waves-B.mp3" name="Ocean Waves"></AudioNode>
            <AudioNode src="./audiosrc/brendan/Summer_Night-B.mp3" name="Summer Night"></AudioNode>
            <AudioNode src="./audiosrc/brendan/Tropical_Forest-B.mp3" name="Tropical Forest"></AudioNode>
            <AudioNode src="./audiosrc/brendan/White_Noise-B.mp3" name="White Noise"></AudioNode>
        </div><br>

        <hr>

        <h2>Gloria</h2>
        <div class="mainGrid">
            <AudioNode src="./audiosrc/gloria/Bird-G.mp3" name="Bird"></AudioNode>
            <AudioNode src="./audiosrc/gloria/Buoy-G.mp3" name="Buoy"></AudioNode>
            <AudioNode src="./audiosrc/gloria/Brook-G.mp3" name="Brook"></AudioNode>
            <AudioNode src="./audiosrc/gloria/Ocean-G.mp3" name="Ocean"></AudioNode>
            <AudioNode src="./audiosrc/gloria/Rain-G.mp3" name="Rain"></AudioNode>
            <AudioNode src="./audiosrc/gloria/Seagull-G.mp3" name="Seagull"></AudioNode>
            <AudioNode src="./audiosrc/gloria/Summer_Night-G.mp3" name="Summer Night"></AudioNode>
            <AudioNode src="./audiosrc/gloria/Thunder-G.mp3" name="Thunder"></AudioNode>
            <AudioNode src="./audiosrc/gloria/Wind-G.mp3" name="Wind"></AudioNode>
            <AudioNode src="./audiosrc/gloria/Womb-G.mp3" name="Womb"></AudioNode>
            
        </div><br>

        <hr>

        <h2>Forest</h2>
        <div class="mainGrid">
            <AudioNode src="./audiosrc/atmos/forest_birds.ogg" name="Birds"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_campfire.ogg" name="Campfire"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_crickets.ogg" name="Crickets"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_frogs.ogg" name="Frogs"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_owl.ogg" name="Owl"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_rain.ogg" name="Rain"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_rainontent.ogg" name="Rain on Tent"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_river.ogg" name="River"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_storm.ogg" name="Storm"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_tawnyowl.ogg" name="Tawny Owl"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_waterfall.ogg" name="Waterfall"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_wind.ogg" name="Wind"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_wolf.ogg" name="Wolf"></AudioNode>
            <AudioNode src="./audiosrc/atmos/forest_woodpecker.ogg" name="Woodpecker"></AudioNode>
        </div><br>

        <hr>

        <h2>Beach</h2>
        <div class="mainGrid">
            <AudioNode src="./audiosrc/atmos/beach_bonefire.ogg" name="Bonfire"></AudioNode>
            <AudioNode src="./audiosrc/atmos/beach_guitar.ogg" name="Guitar"></AudioNode>
            <AudioNode src="./audiosrc/atmos/beach_guitarplaying.ogg" name="Guitar"></AudioNode>
            <AudioNode src="./audiosrc/atmos/beach_rain.ogg" name="Rain"></AudioNode>
            <AudioNode src="./audiosrc/atmos/beach_rowing.ogg" name="Row Boat"></AudioNode>
            <AudioNode src="./audiosrc/atmos/beach_seagull.ogg" name="Seagull"></AudioNode>
            <AudioNode src="./audiosrc/atmos/beach_ship.ogg" name="Ship"></AudioNode>
            <AudioNode src="./audiosrc/atmos/beach_storm.ogg" name="Storm"></AudioNode>
            <AudioNode src="./audiosrc/atmos/beach_waves.ogg" name="Waves"></AudioNode>
        </div><br>

        <hr>

        <h2>City</h2>
        <div class="mainGrid">
            <AudioNode src="./audiosrc/atmos/city_rain.ogg" name="Rain"></AudioNode>
            <AudioNode src="./audiosrc/atmos/city_wind.ogg" name="Wind"></AudioNode>
            <AudioNode src="./audiosrc/atmos/city_windowrain.ogg" name="Rain on Window"></AudioNode>
            <AudioNode src="./audiosrc/atmos/urban_airport.ogg" name="Airport"></AudioNode>
            <AudioNode src="./audiosrc/atmos/urban_construction.ogg" name="Construction"></AudioNode>
            <AudioNode src="./audiosrc/atmos/urban_insidetrain.ogg" name="Train (Inside)"></AudioNode>
            <AudioNode src="./audiosrc/atmos/urban_train.ogg" name="Train (Outside)"></AudioNode>
            <AudioNode src="./audiosrc/atmos/urban_pigeons.ogg" name="Pigeons"></AudioNode>
            <AudioNode src="./audiosrc/atmos/urban_policesiren.ogg" name="Police Car"></AudioNode>
            <AudioNode src="./audiosrc/atmos/urban_racket.ogg" name="Chatter"></AudioNode>
            <AudioNode src="./audiosrc/atmos/urban_traffic.ogg" name="Traffic"></AudioNode>
            <AudioNode src="./audiosrc/atmos/urban_truckengine.ogg" name="Truck"></AudioNode>
        </div><br>

        <hr>

        <h2>Park</h2>
        <div class="mainGrid">
            <AudioNode src="./audiosrc/atmos/park_birds.ogg" name="Birds"></AudioNode>
            <AudioNode src="./audiosrc/atmos/park_childrenplaying.ogg" name="Children"></AudioNode>
            <AudioNode src="./audiosrc/atmos/park_dog.ogg" name="Dog"></AudioNode>
            <AudioNode src="./audiosrc/atmos/park_ducks.ogg" name="Ducks"></AudioNode>
            <AudioNode src="./audiosrc/atmos/park_fountain.ogg" name="Fountain"></AudioNode>
            <AudioNode src="./audiosrc/atmos/park_laketide.ogg" name="Lakeshore"></AudioNode>
        </div><br>

        <hr>

        <h2>Underwater</h2>
        <div class="mainGrid">
            <AudioNode src="./audiosrc/atmos/underwater_ambiance.ogg" name="Underwater (Shallow)"></AudioNode>
            <AudioNode src="./audiosrc/atmos/underwater_ambiance2.ogg" name="Underwater (Deep)"></AudioNode>
            <AudioNode src="./audiosrc/atmos/underwater_bubbles.ogg" name="Bubbles"></AudioNode>
            <AudioNode src="./audiosrc/atmos/underwater_sonar.ogg" name="Sonar"></AudioNode>
            <AudioNode src="./audiosrc/atmos/underwater_whale.ogg" name="Whale"></AudioNode>
        </div><br>

        <hr>

        <h2>House</h2>
        <div class="mainGrid">
            <AudioNode src="./audiosrc/atmos/home_beats.ogg" name="Heartbeat"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_cat.ogg" name="Cat (Purring)"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_catmeowing.ogg" name="Cat (Meowing)"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_clock.ogg" name="Clock"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_coffeemaker.ogg" name="Coffeemaker"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_drops.ogg" name="Dripping"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_fan.ogg" name="Fan"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_fireplace.ogg" name="Fireplace"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_hairdrier.ogg" name="Hairdrier"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_keyboard.ogg" name="Keyboard"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_shower.ogg" name="Shower"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_vacuum.ogg" name="Vacuum"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_washingmachine.ogg" name="Washing Machine"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_wind.ogg" name="Wind"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_whitenoise.ogg" name="White Noise"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_pinknoise.ogg" name="Pink Noise"></AudioNode>
            <AudioNode src="./audiosrc/atmos/home_brownnoise.ogg" name="Brown Noise"></AudioNode>
        </div><br>

        <hr>

        <h2>Countryside</h2>
        <div class="mainGrid">
            <AudioNode src="./audiosrc/atmos/countryside_birds.ogg" name="Birds"></AudioNode>
            <AudioNode src="./audiosrc/atmos/countryside_chickens.ogg" name="Chickens"></AudioNode>
            <AudioNode src="./audiosrc/atmos/countryside_cock.ogg" name="Rooster"></AudioNode>
            <AudioNode src="./audiosrc/atmos/countryside_cow.ogg" name="Cow"></AudioNode>
            <AudioNode src="./audiosrc/atmos/countryside_dog.ogg" name="Dog"></AudioNode>
            <AudioNode src="./audiosrc/atmos/countryside_horse.ogg" name="Horse"></AudioNode>
            <AudioNode src="./audiosrc/atmos/countryside_pigs.ogg" name="Pigs"></AudioNode>
            <AudioNode src="./audiosrc/atmos/countryside_sheep.ogg" name="Sheep"></AudioNode>
            <AudioNode src="./audiosrc/atmos/countryside_rain.ogg" name="Rain"></AudioNode>
            <AudioNode src="./audiosrc/atmos/countryside_storm.ogg" name="Storm"></AudioNode>
            <AudioNode src="./audiosrc/atmos/countryside_stream.ogg" name="Stream"></AudioNode>
            <AudioNode src="./audiosrc/atmos/countryside_wind.ogg" name="Wind"></AudioNode>
        </div><br>

        <hr>
        
        <h2>DEBUG</h2>
        <div class="mainGrid">
            <AudioNode src="./audiosrc/debug/OVERLAP.mp3" name="DEBUG"></AudioNode>
        </div><br>
        
    </body>
</html>
